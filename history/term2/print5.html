<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>すべて表示／非表示切り替え</title>
    <style>
        * {
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            text-size-adjust: 100%;
        }

        body {
            max-width: 80%;
            margin: 0 auto 50 auto;
            padding: 20px;
            box-sizing: border-box;
            background-color: #1a1a1a;
            font-size: 16px;
            color: #e0e0e0;
            font-family: 'MS Gothic', 'Menlo', 'ヒラギノ角ゴ ProN', monospace;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        body.light-mode {
            background-color: #ffffff;
            color: #333333;
        }

        @media (max-width: 768px) {
            body {
                max-width: 95%;
                padding: 10px;
            }
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #333333;
            color: #e0e0e0;
            border: 2px solid #555555;
            padding: 10px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .light-mode .theme-toggle {
            background-color: #f0f0f0;
            color: #333333;
            border-color: #cccccc;
        }

        .theme-toggle:hover {
            transform: scale(1.05);
        }

        .toggle-text {
            display: inline-block;
            background-color: #2d2d2d;
            color: #ffa500;
            font-weight: bold;
            text-decoration: underline;
            cursor: pointer;
            border-radius: 4px;
            padding: 2px 4px;
            white-space: pre;
            /* 空白の幅を維持 */
            user-select: none;
            font-family: 'MS Gothic', 'Menlo', 'ヒラギノ角ゴ ProN', monospace;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .light-mode .toggle-text {
            background-color: #fff3cd;
            color: #d35400;
        }

        button {
            background-color: #2d2d2d;
            color: #ffa500;
            font-weight: bold;
            border: 2px solid #555555;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            margin-top: 16px;
            transition: all 0.3s ease;
        }

        .light-mode button {
            background-color: #fff3cd;
            color: #d35400;
            border-color: #d35400;
        }

        button:hover {
            transform: scale(1.05);
        }

        table {
            border-collapse: collapse;
            border: solid 2px #ffa500;
            /*表全体を線で囲う*/
            font-size: 18px;
            background-color: #2a2a2a;
            transition: all 0.3s ease;
        }

        .light-mode table {
            border-color: orange;
            background-color: #ffffff;
        }

        table th,
        table td {
            border: dashed 1px #ffa500;
            /*破線 1px オレンジ*/
            padding: 8px 12px;
            transition: border-color 0.3s ease;
        }

        .light-mode table th,
        .light-mode table td {
            border-color: orange;
        }

        table th {
            background-color: #333333;
            color: #ffa500;
            font-weight: bold;
        }

        .light-mode table th {
            background-color: #f8f8f8;
            color: #d35400;
        }

        h1 {
            color: #ffa500;
            text-shadow: 0 0 10px rgba(255, 165, 0, 0.3);
            transition: color 0.3s ease;
        }

        .light-mode h1 {
            color: #d35400;
            text-shadow: none;
        }

        a {
            color: #ffa500;
        }

        .light-mode a {
            color: #93c400;
        }
    </style>
</head>

<body>
    <button class="theme-toggle" onclick="toggleTheme()">🌙</button>

<h2>開国と開港</h2>

<button class="toggle-all-btn" onclick="toggleAll()">すべて表示する</button>
<h3>資本主義の広まりと列強の進出</h3>
・18世紀後半のイギリスにつづき，19世紀には西ヨーロッパの国々やアメリカ合衆国でも産業革命がおこり，資本主義の社会は広がりをみせた</br>
・これらの国々は列強とよばれ，海外の市場や原料・資源の獲得をめざして，しだいにアジアに進出した</br>

<button class="toggle-all-btn" onclick="toggleAll()">すべて表示する</button>
<h3>アヘン戦争と幕府の対応</h3>
・イギリスは，<span class="toggle-text" data-original-text="アヘン戦争" onclick="toggleText(this)"></span>の勝利によって南京条約を結び，清を開国させた</br>
→幕府は危機感を強め，1842年に従来の外国船を打ち払う方針をあらため，</br>
<span class="toggle-text" data-original-text="薪水給与令" onclick="toggleText(this)"></span>を出した</br>
・しかし，1844年のオランダ国王による開国をうながす勧告を拒否，従来の対外方針を変えなかった</br>
四角形:角を丸くする7,テキストボックス</br>

<button class="toggle-all-btn" onclick="toggleAll()">すべて表示する</button>
<h3>アメリカの来航目的</h3>
・日本近海に進出していた捕鯨船への補給や遭難時の船員救助のため，日本への寄港を必要とした</br>
・カリフォルニアを領有したことをきっかけに，対清貿易への期待が高まった</br>
→太平洋航路の中継地として，日本を開港させることが重要な課題となり，使節派遣の動きが生まれた</br>

<button class="toggle-all-btn" onclick="toggleAll()">すべて表示する</button>
<h3>日本への開国要求</h3>
・1846年，ビッドルの通商要求が拒否されたことを受け，アメリカは東インド艦隊司令長官<span class="toggle-text" data-original-text="ペリー" onclick="toggleText(this)"></span>を派遣した</br>
→1853年6月，浦賀に来航，開国を求めるフィルモア大統領の国書を，幕府に差し出した</br>
→幕府は国書を受理して，ペリーを退去させた</br>
・翌月，ロシアの<span class="toggle-text" data-original-text="プチャーチン" onclick="toggleText(this)"></span>も長崎に来航，開国を要求した</br>

<button class="toggle-all-btn" onclick="toggleAll()">すべて表示する</button>
<h3>阿部正弘の対応と日米和親条約</h3>
・老中首座の阿部正弘は，幕府だけで外交問題を決定してきた前例をやぶり，諸大名に意見を求めた</br>
→幕政に対する有力大名の発言力が増加</br>
・1854年，ふたたびペリーが来航すると，幕府は自由貿易の要求は拒否したものの，</br>
<span class="toggle-text" data-original-text="日米和親条約" onclick="toggleText(this)"></span>（神奈川条約）を結んだ</br>
→江戸幕府の外交方針の変更（開国）</br>

<button class="toggle-all-btn" onclick="toggleAll()">すべて表示する</button>
<h3>日米和親条約</h3>
(1)下田・箱館を開き，船舶の寄港を許し，領事の駐在を認める</br>
(2)アメリカ船へ薪水・食料などを供給する</br>
(3)難破船員の救助</br>
(4)アメリカに一方的な最恵国待遇をあたえる</br>
→幕府は，イギリス・ロシア・オランダとも同様の条約を結んだ</br>

<button class="toggle-all-btn" onclick="toggleAll()">すべて表示する</button>
<h3>通商条約と朝廷</h3>
・1856年，下田に着任した初代アメリカ総領事<span class="toggle-text" data-original-text="ハリス" onclick="toggleText(this)"></span>は，自由貿易のための通商条約の締結を要求</br>
→老中<span class="toggle-text" data-original-text="堀田正睦" onclick="toggleText(this)"></span>は条約調印を正当化するため，勅許を朝廷に求めたが，公家らの反対によって失敗</br>
→朝廷の政治的権威を高める結果になった</br>

<button class="toggle-all-btn" onclick="toggleAll()">すべて表示する</button>
<h3>中国情勢と日米修好通商条約</h3>
・中国でアロー戦争（第２次アヘン戦争）がおこり，英仏連合軍にやぶれた中国は天津条約を結んだ</br>
…キリスト教信仰および布教の自由，開港場の増加，賠償金の支払いなどを認めさせられた</br>
・1858年４月，大老となった彦根藩主の<span class="toggle-text" data-original-text="井伊直弼" onclick="toggleText(this)"></span>は，勅許をえないまま６月に<span class="toggle-text" data-original-text="日米修好通商条約" onclick="toggleText(this)"></span>に調印した</br>

<button class="toggle-all-btn" onclick="toggleAll()">すべて表示する</button>
<h3>日米修好通商条約</h3>
・(1)下田・箱館に加え，神奈川・長崎・新潟・兵庫の開港と江戸，大坂の開市，(2)自由貿易の開始，(3)開港場に居留地を設け，外国人の内地旅行を制限すること</br>
・(4)領事裁判権（<span class="toggle-text" data-original-text="治外法権" onclick="toggleText(this)"></span>）を認め，(5)関税は相互で協定して決める協定関税で日本に決定権がなく（<span class="toggle-text" data-original-text="関税自主権の欠如。" onclick="toggleText(this)"></span>），(6)アメリカへの一方的な最恵国待遇などの条項がふくまれた</br>
・オランダ・ロシア・イギリス・フランスともほぼ同じ内容の条約を結んだ</br>
（<span class="toggle-text" data-original-text="安政の五カ国条約" onclick="toggleText(this)"></span>）</br>
四角形:角を丸くする4,テキストボックス</br>

<button class="toggle-all-btn" onclick="toggleAll()">すべて表示する</button>
<h3>貿易の開始</h3>
・通商条約にもとづき，1859年6月から長崎・箱館・横浜の港で貿易が始まった</br>
・開港場には居留地が設けられ，外国商人と日本商人のあいだで貿易の取引が行われた</br>
・外国商人は居留地の外では取引できないしくみだった（<span class="toggle-text" data-original-text="居留地貿易" onclick="toggleText(this)"></span>）</br>

<button class="toggle-all-btn" onclick="toggleAll()">すべて表示する</button>
<h3>輸出・輸入品目</h3>
・輸出では，生糸・茶・蚕卵紙など</br>
・輸入では，毛織物・綿織物などの繊維製品や武器・艦船などの軍需品が中心</br>
…当初は輸出が輸入を上回った</br>

<button class="toggle-all-btn" onclick="toggleAll()">すべて表示する</button>
<h3>貿易が開始されると…</h3>
・輸出の増加に生産が追いつかず，生糸が欠乏</br>
・生産地の商人は商品を開港場に直接送ったため，いままでの流通機構がくずれ，物価が上昇した</br>
→国内経済は大きく変動した</br>

<button class="toggle-all-btn" onclick="toggleAll()">すべて表示する</button>
<h3>国内経済の混乱とその対応</h3>
・1860年，幕府は，貿易を統制しようとして<span class="toggle-text" data-original-text="五品江戸廻送令" onclick="toggleText(this)"></span>を発した</br>
…列国からの圧力と地方商人の反対で，不徹底に</br>
・金銀の交換比率のちがいから10万両以上の金貨が流出した</br>
→幕府は国際的比率に近づけるため，小判を小さくする貨幣改鋳を実施</br>
→流出はおさまったが，貨幣価値の下落が物価の上昇をまねき，国内経済はいっそう混乱した</br>

<button class="toggle-all-btn" onclick="toggleAll()">すべて表示する</button>
<h3>不平等な関税</h3>
・関税率は安政の五か国条約では輸出税５％，輸入税は原則20％と定められた</br>
・1866年の<span class="toggle-text" data-original-text="改税約書" onclick="toggleText(this)"></span>で輸入税が原則５％に切りさげられ，不平等性が強まった</br>
・1867年以降は輸入超過となり，良質で安価な綿製品や砂糖などが大量に流入した</br>
→綿花栽培や製糖業は大きな打撃を受けて衰退</br>

<button class="toggle-all-btn" onclick="toggleAll()">すべて表示する</button>
<h3>貿易による産業の発展</h3>
・輸出の増大につれて，関東地方や信濃・甲斐などの各地で養蚕業や製糸業が急速に発展した</br>
・国内の綿織物生産地は打撃を受けたが，やがて織物業者たちは，輸入綿糸を使って輸入綿布に対抗していった</br>
→開港によって，それまでの経済のしくみがしだいに解体され，新たな経済のしくみが生まれることになった</br>

<p>
	<a href="print1.html">⑫革命の時代の到来</a>・
	<a href="print2.html">④自由主義と国民主義の進展</a>・
	<a href="print3.html">⑤帝国主義の成立と列強の情勢</a>・
	<a href="print4.html">日本史前提知識</a>・
	<a href="print5.html">①開国と開港</a>
</p>

<script>
	// 初期化：全てを非表示（空白）に
	document.addEventListener("DOMContentLoaded", () => {
		document.querySelectorAll(".toggle-text").forEach(el => {
			const original = el.dataset.originalText;
			for (let hitomoji of original) {
				if (hitomoji.match(/^[^\x01-\x7E\xA1-\xDF]+$/)) {
					el.textContent += "　";
				} else {
					el.textContent += " ";
				}
			}
		});
	});

	// 個別トグル
	function toggleText(el) {
		const original = el.dataset.originalText;
		if (el.textContent.trim() === "") {
			el.textContent = original;
		} else {
			el.textContent = "";
			for (let hitomoji of original) {
				if (hitomoji.match(/^[^\x01-\x7E\xA1-\xDF]+$/)) {
					el.textContent += "　";
				} else {
					el.textContent += " ";
				}
			}
		}
	}

	// 全体の表示状態を保持
	let allVisible = false;

	// 一括表示/非表示トグル
	function toggleAll() {
		const elements = document.querySelectorAll(".toggle-text");
		const buttons = document.querySelectorAll(".toggle-all-btn"); // 複数のボタンを取得

		elements.forEach(el => {
			const original = el.dataset.originalText;
			if (allVisible) {
				el.textContent = "";
				for (let hitomoji of original) {
					if (hitomoji.match(/^[^\x01-\x7E\xA1-\xDF]+$/)) {
						el.textContent += "　";
					} else {
						el.textContent += " ";
					}
				}
			} else {
				el.textContent = original; // 表示に
			}
		});

		allVisible = !allVisible;

		// すべてのボタンのテキストを更新
		buttons.forEach(button => {
			button.textContent = allVisible ? "すべて非表示にする" : "すべて表示する";
		});
	}

	//ダーク/ライトモード
	function toggleTheme() {
		const body = document.body;
		const themeBtn = document.querySelector('.theme-toggle');

		if (body.classList.contains('light-mode')) {
			body.classList.remove('light-mode');
			themeBtn.textContent = '🌙';
		} else {
			body.classList.add('light-mode');
			themeBtn.textContent = '☀️';
		}
	}
</script>

</body>
